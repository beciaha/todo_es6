{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/controller.js","webpack:///./src/helpers.js","webpack:///./src/index.js","webpack:///./src/storage.js","webpack:///./src/template.js","webpack:///./src/view.js"],"names":["Controller","view","storage","makeList","getLocalStorage","bindAddItem","addItem","bind","bindRemoveItem","removeItem","title","item","id","Date","now","toString","checked","insert","clearNewItem","remove","qs","$ew","$delegate","selector","scope","document","querySelector","target","type","callback","addEventListener","handler","event","potentialElements","querySelectorAll","i","length","window","call","typeWriter","txt","speed","placeholder","charAt","setTimeout","template","controller","Storage","name","localStorage","todo","storageParsed","JSON","parse","getItem","setLocalStorage","setItem","stringify","push","filter","Template","items","reduce","a","View","$todoList","$newItem","$itemsOnList","$destroy","list","itemList","innerHTML","value","trim","parentNode"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import { $ew, qs } from './helpers';\n\nexport class Controller {\n\n    constructor(view, storage) {\n        this.view = view;\n        this.storage = storage;\n        this.view.makeList(this.storage.getLocalStorage());\n        this.view.bindAddItem(this.addItem.bind(this));\n        this.view.bindRemoveItem(this.removeItem.bind(this));\n\n    }\n    addItem(title) {\n        let item = {\n            id: Date.now().toString(),\n            title: title,\n            checked: \"\"\n        }\n        this.storage.insert(item);\n        this.view.makeList(this.storage.getLocalStorage());\n        this.view.clearNewItem();\n    }\n    removeItem(id) {\n        this.storage.remove(id);\n        this.view.makeList(this.storage.getLocalStorage());\n    }\n}","/**\n * @param {string} selector \n * @param {Element} scope \n */\nexport function qs(selector, scope) {\n\treturn (scope || document).querySelector(selector);\n}\n/**\n * Event wrapper\n * @param {Element|Window} target \n * @param {string} type \n * @param {Function} callback \n */\nexport function $ew(target, type, callback) {\n\ttarget.addEventListener(type, callback);\n}\n/**\n * \n * @param {*\t} target \n * @param {*} selector \n * @param {*} type \n * @param {*} handler \n */\nexport function $delegate(target, selector, type, handler) {\n\tlet event = function () {\n\t\tlet potentialElements = target.querySelectorAll(selector);\n\t\tlet i = potentialElements.length;\n\t\twhile (i--) {\n\t\t\tif (potentialElements[i] == window.event.target) {\n\t\t\t\thandler.call(window.event.target, window.event)\n\t\t\t}\n\t\t}\n\t}\n\t$ew(target, type, event);\n}\nexport const typeWriter = (function () {\n\tlet i = 0;\n\tlet txt = 'What needs to be done?';\n\tlet speed = 80;\n\tlet id = qs('.new-item');\n\treturn function () {\n\t\tif (i < txt.length) {\n\t\t\tid.placeholder += txt.charAt(i);\n\t\t\ti++;\n\t\t\tsetTimeout(typeWriter, speed);\n\t\t}\n\t}\n})();","import {$ew,qs,typeWriter} from './helpers';\nimport {Template} from './template';\nimport {View} from \"./view\";\nimport {Controller} from \"./controller\";\nimport {Storage }from './storage';\n\nconst template = new Template();\nconst view = new View(template);\nconst storage = new Storage(\"todo\");\nconst controller = new Controller(view,storage);\ntypeWriter();\n$ew(window, 'load', typeWriter);\n\n","export class Storage {\n    constructor(name) {\n        const localStorage = window.localStorage;\n        let todo = [\n            {\n                id: '0',\n                title: 'write good code',\n                checked: 'checked'\n            },\n            {\n                id: '1',\n                title: 'find good job',\n                checked: ''\n            },\n        ];\n        this.getLocalStorage = () => {\n            const storageParsed = JSON.parse(localStorage.getItem(name));\n            return (storageParsed.length!=0 ?storageParsed:todo);\n        }\n        this.setLocalStorage = (todo) => {\n            localStorage.setItem(name, JSON.stringify(todo));\n        }\n    }\n    insert(item) {\n        let todo = this.getLocalStorage();\n        todo.push(item);\n        this.setLocalStorage(todo);\n    }\n    remove(id) {\n        let todo = this.getLocalStorage();\n        todo = todo.filter(i => i.id !== id);\n        this.setLocalStorage(todo);\n    }\n}","export class Template {\n    /**\n     * \n     * @param {Array} items \n     */\n\n    itemList(items) {\n        if (items !== null) {\n            return items.reduce((a, item) => a + `\n            <li id=\"${item.id}\" class=\"item-on-list\">\n            <input class=\"form-check-input\" type=\"checkbox\" ${item.checked}>\n                <label>${item.title}</label>\n                <button class=\"destroy btn-outline btn-danger \"> &#10007; </button>\n            </li>`, '');\n        }\n        else {\n            return [];\n        }\n\n    }\n}","import {qs,$delegate} from \"./helpers\";\nimport {$ew} from './helpers';\nexport class View {\n    /**\n     * \n     * @param {*} template \n     */\n    constructor(template) { \n        this.template = template;\n        this.$todoList = qs('.todo-list');\n        this.$newItem = qs('.new-item');\n        this.$itemsOnList = qs('.items-on-list');\n        this.$destroy = qs('.destroy'); \n    }\n    /**\n     * \n     * @param {Array} items \n     */\n    makeList(items) {\n        let list =this.template.itemList(items);\n        this.$todoList.innerHTML=list;\n    }\n    \n    bindAddItem(handler) {\n\t\t$ew(this.$newItem, 'change', ({target}) => {\n\t\t\tconst title = target.value.trim();\n\t\t\tif (title) {\n                handler(title);\n\t\t\t}\n        });\n    }\n    clearNewItem() {\n        this.$newItem.value=\"\";\n    }\n    bindRemoveItem(handler) {\n        $delegate(this.$todoList, '.destroy', 'click', ({target}) => {\n\t\t\thandler(target.parentNode.id);\n\t\t});\n    }\n}"],"sourceRoot":""}