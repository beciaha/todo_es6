{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/controller.js","webpack:///./src/helpers.js","webpack:///./src/index.js","webpack:///./src/storage.js","webpack:///./src/template.js","webpack:///./src/view.js"],"names":["Controller","view","storage","makeList","getLocalStorage","bindAddItem","addItem","bind","bindRemoveItem","removeItem","title","itemsArray","push","id","Date","now","toString","checked","setLocalStorage","clearNewItem","filter","i","qs","$ew","$delegate","selector","scope","document","querySelector","target","type","callback","addEventListener","handler","event","potentialElements","querySelectorAll","length","window","call","typeWriter","txt","speed","placeholder","charAt","setTimeout","template","controller","Storage","name","localStorage","todo","JSON","parse","getItem","setItem","stringify","Template","items","reduce","a","item","View","$todoList","$newItem","$itemsOnList","$destroy","list","itemList","innerHTML","value","trim","parentNode"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;;;;;ACnEA;;;;IAEaA,U,WAAAA,U;AAET,wBAAYC,IAAZ,EAAiBC,OAAjB,EAA0B;AAAA;;AACtB,aAAKD,IAAL,GAAYA,IAAZ;AACA,aAAKC,OAAL,GAAcA,OAAd;AACA,aAAKD,IAAL,CAAUE,QAAV,CAAmB,KAAKD,OAAL,CAAaE,eAAb,EAAnB;AACA,aAAKH,IAAL,CAAUI,WAAV,CAAsB,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAtB;AACA,aAAKN,IAAL,CAAUO,cAAV,CAAyB,KAAKC,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAzB;AAEH;;;;gCACOG,K,EAAO;AACZ,gBAAIC,aAAa,KAAKT,OAAL,CAAaE,eAAb,EAAjB;AACAO,uBAAWC,IAAX,CAAgB,EAACC,IAAGC,KAAKC,GAAL,GAAWC,QAAX,EAAJ,EAA0BN,OAAMA,KAAhC,EAAsCO,SAAQ,EAA9C,EAAhB;AACA,iBAAKf,OAAL,CAAagB,eAAb,CAA6BP,UAA7B;AACA,iBAAKV,IAAL,CAAUE,QAAV,CAAmB,KAAKD,OAAL,CAAaE,eAAb,EAAnB;AACA,iBAAKH,IAAL,CAAUkB,YAAV;AACE;;;mCACMN,E,EAAI;AACP,gBAAIF,aAAa,KAAKT,OAAL,CAAaE,eAAb,EAAjB;AACAO,yBAAaA,WAAWS,MAAX,CAAmB;AAAA,uBAAKC,EAAER,EAAF,KAASA,EAAd;AAAA,aAAnB,CAAb;AACA,iBAAKX,OAAL,CAAagB,eAAb,CAA6BP,UAA7B;AACA,iBAAKV,IAAL,CAAUE,QAAV,CAAmB,KAAKD,OAAL,CAAaE,eAAb,EAAnB;AACH;;;;;;;;;;;;;;;;;;;;;QCpBOkB,E,GAAAA,E;QASAC,G,GAAAA,G;QAUAC,S,GAAAA,S;AAvBhB;;;;AAIO,SAASF,EAAT,CAAYG,QAAZ,EAAsBC,KAAtB,EAA6B;AACnC,SAAO,CAACA,SAASC,QAAV,EAAoBC,aAApB,CAAkCH,QAAlC,CAAP;AACA;AACD;;;;;;AAMO,SAASF,GAAT,CAAaM,MAAb,EAAqBC,IAArB,EAA2BC,QAA3B,EAAqC;AAC3CF,SAAOG,gBAAP,CAAwBF,IAAxB,EAA8BC,QAA9B;AACA;AACD;;;;;;;AAOO,SAASP,SAAT,CAAmBK,MAAnB,EAA2BJ,QAA3B,EAAqCK,IAArC,EAA2CG,OAA3C,EAAoD;AAC1D,MAAIC,QAAO,SAAPA,KAAO,GAAW;AACrB,QAAIC,oBAAoBN,OAAOO,gBAAP,CAAwBX,QAAxB,CAAxB;AACA,QAAIJ,IAAIc,kBAAkBE,MAA1B;AACA,WAAMhB,GAAN,EAAW;AACV,UAAGc,kBAAkBd,CAAlB,KAAsBiB,OAAOJ,KAAP,CAAaL,MAAtC,EAA8C;AAC7CI,gBAAQM,IAAR,CAAaD,OAAOJ,KAAP,CAAaL,MAA1B,EAAiCS,OAAOJ,KAAxC;AACA;AACD;AACD,GARD;AASAX,MAAIM,MAAJ,EAAYC,IAAZ,EAAiBI,KAAjB;AACA;AACM,IAAMM,kCAAa,YAAY;AAClC,MAAInB,IAAI,CAAR;AACA,MAAIoB,MAAM,wBAAV;AACA,MAAIC,QAAQ,EAAZ;AACA,MAAI7B,KAAKS,GAAG,WAAH,CAAT;AACA,SAAO,YAAU;AAAE,QAAID,IAAIoB,IAAIJ,MAAZ,EAAoB;AACnCxB,SAAG8B,WAAH,IAAkBF,IAAIG,MAAJ,CAAWvB,CAAX,CAAlB;AACAA;AACAwB,iBAAWL,UAAX,EAAuBE,KAAvB;AACD;AAAC,GAJJ;AAKH,CAVwB,EAAlB,C;;;;;;;;;;;;;;ACnCP;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMI,WAAW,wBAAjB;AACA,IAAM7C,OAAO,eAAS6C,QAAT,CAAb;AACA,IAAM5C,UAAU,qBAAY,MAAZ,CAAhB;AACA,IAAM6C,aAAa,2BAAe9C,IAAf,EAAoBC,OAApB,CAAnB;AACA;AACA,kBAAIoC,MAAJ,EAAY,MAAZ,uB;;;;;;;;;;;;;;;;;;;;ICXaU,O,WAAAA,O,GACT,iBAAYC,IAAZ,EAAkB;AAAA;;AACd,QAAMC,eAAeZ,OAAOY,YAA5B;AACA,QAAIC,aAAJ;AACA,SAAK/C,eAAL,GAAuB,YAAK;AACpB,eAAQ+C,QAAQC,KAAKC,KAAL,CAAWH,aAAaI,OAAb,CAAqBL,IAArB,CAAX,CAAhB;AACP,KAFD;AAGA,SAAK/B,eAAL,GAAsB,UAACiC,IAAD,EAAU;AAC5BD,qBAAaK,OAAb,CAAqBN,IAArB,EAA0BG,KAAKI,SAAL,CAAeL,IAAf,CAA1B;AACH,KAFD;AAGH,C;;;;;;;;;;;;;;;;;;;;;;ICVQM,Q,WAAAA,Q;;;;;;;;AACT;;;;;iCAKSC,K,EAAO;AAChB;AACI,gBAAGA,UAAQ,IAAX,EAAiB;AACb,uBAAOA,MAAMC,MAAN,CAAa,UAACC,CAAD,EAAIC,IAAJ;AAAA,2BAAaD,gCACvBC,KAAKhD,EADkB,6FAEiBgD,KAAK5C,OAFtB,kCAGpB4C,KAAKnD,KAHe,sHAAb;AAAA,iBAAb,EAKC,EALD,CAAP;AAMH,aAPD,MAQK;AACL,uBAAO,EAAP;AACC;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;ACpBL;;;;IAEaoD,I,WAAAA,I;AACT;;;;AAIA,kBAAYhB,QAAZ,EAAsB;AAAA;;AAClB,aAAKA,QAAL,GAAgBA,QAAhB;AACA,aAAKiB,SAAL,GAAiB,iBAAG,YAAH,CAAjB;AACA,aAAKC,QAAL,GAAgB,iBAAG,WAAH,CAAhB;AACA,aAAKC,YAAL,GAAoB,iBAAG,gBAAH,CAApB;AACA,aAAKC,QAAL,GAAgB,iBAAG,UAAH,CAAhB;AACH;AACD;;;;;;;;iCAISR,K,EAAO;AACZ,gBAAIS,OAAM,KAAKrB,QAAL,CAAcsB,QAAd,CAAuBV,KAAvB,CAAV;AACA,iBAAKK,SAAL,CAAeM,SAAf,GAAyBF,IAAzB;AACH;;;oCAEWlC,O,EAAS;AACvB,8BAAI,KAAK+B,QAAT,EAAmB,QAAnB,EAA6B,gBAAc;AAAA,oBAAZnC,MAAY,QAAZA,MAAY;;AAC1C,oBAAMnB,QAAQmB,OAAOyC,KAAP,CAAaC,IAAb,EAAd;AACA,oBAAI7D,KAAJ,EAAW;AACEuB,4BAAQvB,KAAR;AACZ;AACK,aALP;AAMG;;;uCACc;AACX,iBAAKsD,QAAL,CAAcM,KAAd,GAAoB,EAApB;AACH;;;uCACcrC,O,EAAS;AACpB,oCAAU,KAAK8B,SAAf,EAA0B,UAA1B,EAAsC,OAAtC,EAA+C,iBAAc;AAAA,oBAAZlC,MAAY,SAAZA,MAAY;;AAClEI,wBAAQJ,OAAO2C,UAAP,CAAkB3D,EAA1B;AACA,aAFK;AAGH","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import {$ew,qs} from './helpers';\n\nexport class Controller {\n    \n    constructor(view,storage) {\n        this.view = view;\n        this.storage =storage;\n        this.view.makeList(this.storage.getLocalStorage());\n        this.view.bindAddItem(this.addItem.bind(this));\n        this.view.bindRemoveItem(this.removeItem.bind(this)); \n\n    }\n    addItem(title) {\n       let itemsArray = this.storage.getLocalStorage();\n       itemsArray.push({id:Date.now().toString(),title:title,checked:\"\"});\n       this.storage.setLocalStorage(itemsArray);\n       this.view.makeList(this.storage.getLocalStorage());\n       this.view.clearNewItem();\n        }\n    removeItem(id) {\n            let itemsArray = this.storage.getLocalStorage();\n            itemsArray = itemsArray.filter( i => i.id !== id);\n            this.storage.setLocalStorage(itemsArray);\n            this.view.makeList(this.storage.getLocalStorage());\n        }        \n}","/**\n * @param {string} selector \n * @param {Element} scope \n */\nexport function qs(selector, scope) {\n\treturn (scope || document).querySelector(selector);\n}\n/**\n * Event wrapper\n * @param {Element|Window} target \n * @param {string} type \n * @param {Function} callback \n */\nexport function $ew(target, type, callback) {\n\ttarget.addEventListener(type, callback);\n}\n/**\n * \n * @param {*\t} target \n * @param {*} selector \n * @param {*} type \n * @param {*} handler \n */\nexport function $delegate(target, selector, type, handler) {\n\tlet event =function() {\n\t\tlet potentialElements = target.querySelectorAll(selector);\n\t\tlet i = potentialElements.length;\n\t\twhile(i--) {\n\t\t\tif(potentialElements[i]==window.event.target) {\n\t\t\t\thandler.call(window.event.target,window.event)\n\t\t\t}\n\t\t}\n\t}\n\t$ew(target, type,event);\n}\nexport const typeWriter= (function () {\n    let i = 0;\n    let txt = 'What needs to be done?';\n    let speed = 80;\n    let id = qs('.new-item');\n    return function(){ if (i < txt.length) {\n        id.placeholder += txt.charAt(i);\n        i++;\n        setTimeout(typeWriter, speed);\n      }}\n})();","import {$ew,qs,typeWriter} from './helpers';\nimport {Template} from './template';\nimport {View} from \"./view\";\nimport {Controller} from \"./controller\";\nimport {Storage }from './storage';\n\nconst template = new Template();\nconst view = new View(template);\nconst storage = new Storage(\"todo\");\nconst controller = new Controller(view,storage);\ntypeWriter();\n$ew(window, 'load', typeWriter);\n\n","export class Storage {\n    constructor(name) {\n        const localStorage = window.localStorage;\n        let todo;\n        this.getLocalStorage = ()=> {\n                return (todo || JSON.parse(localStorage.getItem(name)));\n        }\n        this.setLocalStorage =(todo) => {\n            localStorage.setItem(name,JSON.stringify(todo));\n        }\n    }\n}","export class Template {\n    /**\n     * \n     * @param {Array} items \n     */\n    \n    itemList(items) {\n    //    console.log(items);\n        if(items!==null) {\n            return items.reduce((a, item) => a + `\n            <li id=\"${item.id}\" class=\"item-on-list\">\n            <input class=\"form-check-input\" type=\"checkbox\" ${item.checked}>\n                <label>${item.title}</label>\n                <button class=\"destroy btn-outline btn-danger \"> &#10007; </button>\n            </li>`, '');\n        }\n        else {\n        return [];\n        }\n       \n    }\n}","import {qs,$delegate} from \"./helpers\";\nimport {$ew} from './helpers';\nexport class View {\n    /**\n     * \n     * @param {*} template \n     */\n    constructor(template) { \n        this.template = template;\n        this.$todoList = qs('.todo-list');\n        this.$newItem = qs('.new-item');\n        this.$itemsOnList = qs('.items-on-list');\n        this.$destroy = qs('.destroy'); \n    }\n    /**\n     * \n     * @param {Array} items \n     */\n    makeList(items) {\n        let list =this.template.itemList(items);\n        this.$todoList.innerHTML=list;\n    }\n    \n    bindAddItem(handler) {\n\t\t$ew(this.$newItem, 'change', ({target}) => {\n\t\t\tconst title = target.value.trim();\n\t\t\tif (title) {\n                handler(title);\n\t\t\t}\n        });\n    }\n    clearNewItem() {\n        this.$newItem.value=\"\";\n    }\n    bindRemoveItem(handler) {\n        $delegate(this.$todoList, '.destroy', 'click', ({target}) => {\n\t\t\thandler(target.parentNode.id);\n\t\t});\n    }\n}"],"sourceRoot":""}